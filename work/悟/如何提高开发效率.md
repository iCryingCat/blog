[TOC]

## 前端界面需求

## 解决方案

### 开发方式

### now

**根据界面功能驱动数据的请求和处理：**

> 在一步一步完善页面的过程中，遇到缺少的数据才去实现请求

**缺点：**

> 发现新的问题才去做针对性的解决，有一个bug修一个bug
>
> 对整个界面用到的数据没有清晰的认识，处理不当还会导致：数据没有及时更新、重复收发数据
>
> 最后的代码混乱，难以维护

### batter

**准备数据，填充界面：**

> 根据界面层级关系封装所需要的数据结构，实现相关的数据处理的函数
>
> 然后再去实现具体页面，相当于把数据填进去
>
> 最后分点测试

**优点：**

> 优先实现数据结构、数据处理函数，这一步没有和实际界面相互调用，可以单独提交，不影响主干（除了一些基础语法错误）
>
> 前期减少等待策划完善预制体的影响
>
> 后期自测可逐步分点进行，验证数据是否正确，减少bug的出现

### 提高效率

1. 打印日志
   1. 网络请求、同步事件打印协议名称和具体数据
   2. 交互事件响应的函数打印事件名称
   3. 数据处理前后打印数据
2. 提交时记得删除！

## 开发流程

### 界面入口

1. 实现界面基础信息接口，定义界面所需数据结构
2. 是否需要关闭当前界面

### 界面加载完成

1. 使用事件触发关闭其他窗口
2. 需要新的操作模式
3. 填充数据

### 绑定事件

1. 添加网络同步事件
2. 添加客户端逻辑事件
3. 添加组件监听

### 显示界面

1. 设置初始界面

### 刷新界面

1. 交互操作
2. 新增数据
3. 删除数据
4. 更新数据

------

## 注意事项

### 预制体处理

1. 列表自适应：通过content size fitter组件和pivot设置实现某一方向的
2. 列表项模板：最好不放到远处，默认禁用，创建时启用
3. 按钮相应：需要本身或者子物体有一个image、text开启Raycast
4. 禁用Raycast：只用于显示的背景、子物体

### 文本处理

1. 弹窗显示类型，使用异步函数处理
2. 检查数值类型，是否需要保留小数
3. 字符类型配表多语言

### 图片加载

1. 动态图集：通过配表路径加载

### 动态列表

1. 事件监听：生成子项时需要先移除之前存在的监听

### 网络数据

1. #### 请求

   1. 检查是否发对协议
   2. 检查参数是否正确

2. #### 同步

   1. 数据是否当前界面需要
   2. 数组更新保存方式优化
